{"version":3,"sources":["pages/blog/list/index.js"],"names":["BlogList","connect","_ref","blog","props","_this","Object","_Users_cronj_Desktop_development_hhns_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__","this","_Users_cronj_Desktop_development_hhns_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__","_Users_cronj_Desktop_development_hhns_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__","call","showing100Characters","sentence","result","resultArray","split","length","slice","concat","join","handlePageChnage","page","dispatch","setState","currentPage","type","state","deleteBlog","uuid","handleLanguage","language","hanldeRedirect","record","_this$state","history","push","pathname","id","perPage","_this2","_this$props","location","undefined","paginationCurrentPage","nextProps","_this$props2","isDeleted","_this3","_this$state2","blogs","totalBlogs","data","columns","title","dataIndex","key","render","text","renderHTML","substring","date","react__WEBPACK_IMPORTED_MODULE_9___default","a","createElement","Date","toDateString","react_router_dom__WEBPACK_IMPORTED_MODULE_13__","to","className","onClick","paginationConfig","current","pageSize","total","onChange","react_helmet__WEBPACK_IMPORTED_MODULE_10__","antd_es_switch__WEBPACK_IMPORTED_MODULE_3__","defaultChecked","checkedChildren","unCheckedChildren","style","width","marginLeft","antd_es_table__WEBPACK_IMPORTED_MODULE_1__","rowKey","_id","rowClassName","needs_translation","onRow","onDoubleClick","scroll","x","dataSource","pagination","React","Component"],"mappings":"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","file":"static/js/27.761b53da.chunk.js","sourcesContent":["/* eslint-disable react/destructuring-assignment */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React from 'react'\nimport { Table, Switch } from 'antd'\nimport { Helmet } from 'react-helmet'\nimport { connect } from 'react-redux'\nimport renderHTML from 'react-render-html'\nimport { Link } from 'react-router-dom'\n\nimport './index.css'\n\n@connect(({ blog }) => ({ blog }))\nclass BlogList extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      language: true,\n      currentPage: 1,\n      perPage: 20,\n    }\n  }\n\n  componentDidMount() {\n    const { dispatch, location } = this.props\n    const { state } = location\n    const { currentPage } = this.state\n    if (state !== undefined) {\n      if (state.paginationCurrentPage) {\n        this.setState(\n          {\n            currentPage: state.paginationCurrentPage,\n          },\n          () => {\n            dispatch({\n              type: 'blog/GET_LIST',\n              page: this.state.currentPage,\n            })\n          },\n        )\n      } else {\n        dispatch({\n          type: 'blog/GET_LIST',\n          page: this.state.currentPage,\n        })\n      }\n    } else {\n      dispatch({\n        type: 'blog/GET_LIST',\n        page: currentPage,\n      })\n    }\n\n    dispatch({\n      type: 'kirtan/RESET_STORE',\n    })\n\n    dispatch({\n      type: 'video/RESET_STORE',\n    })\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { blog, dispatch } = this.props\n    const { isDeleted } = blog\n    if ((!isDeleted && nextProps.blog.isDeleted) || (isDeleted && nextProps.blog.isDeleted)) {\n      dispatch({\n        type: 'blog/GET_LIST',\n        page: 1,\n      })\n    }\n    // this.setState({\n    //   language: window.localStorage['app.settings.locale'] === '\"en-US\"',\n    // })\n  }\n\n  showing100Characters = sentence => {\n    let result = sentence\n    let resultArray = result.split(' ')\n    if (resultArray.length > 10) {\n      resultArray = resultArray.slice(0, 10)\n      result = `${resultArray.join(' ')}...`\n    }\n    return result\n  }\n\n  handlePageChnage = page => {\n    const { dispatch } = this.props\n\n    this.setState(\n      {\n        currentPage: page,\n      },\n      () => {\n        dispatch({\n          type: 'blog/GET_LIST',\n          page: this.state.currentPage,\n        })\n      },\n    )\n  }\n\n  deleteBlog = uuid => {\n    const { dispatch } = this.props\n    dispatch({\n      type: 'blog/DELETE_BLOG_BY_ID',\n      uuid,\n    })\n  }\n\n  handleLanguage = () => {\n    const { language } = this.state\n    this.setState({\n      language: !language,\n    })\n  }\n\n  hanldeRedirect = record => {\n    const { language, currentPage } = this.state\n    const { history } = this.props\n    history.push({\n      pathname: '/blog/add-blog-post',\n      state: { id: record.uuid, language, currentPage },\n    })\n  }\n\n  render() {\n    const { language, currentPage, perPage } = this.state\n    const { blog } = this.props\n    const { blogs, totalBlogs } = blog\n    const data = blogs\n\n    const columns = [\n      {\n        title: 'Title',\n        dataIndex: language ? 'en.title' : 'ru.title',\n        key: language ? 'en.title' : 'ru.title',\n        render: text => (text ? renderHTML(text.substring(0, 30)) : ''),\n      },\n      {\n        title: 'Author',\n        dataIndex: 'author',\n        key: 'author',\n        render: text => (text ? renderHTML(this.showing100Characters(text)) : ''),\n      },\n      {\n        title: 'Date',\n        dataIndex: 'blog_creation_date',\n        key: 'blog_creation_date',\n        render: date => <span>{`${new Date(date).toDateString()}`}</span>,\n      },\n      {\n        title: 'Action',\n        key: 'uuid',\n        render: record => (\n          <span>\n            <Link\n              to={{\n                pathname: '/blog/add-blog-post',\n                state: { id: record.uuid, language, currentPage },\n              }}\n            >\n              <i className=\"fa fa-edit mr-2 editIcon\" />\n            </Link>\n            <i\n              className=\"fa fa-trash mr-2 closeIcon\"\n              onClick={() => {\n                this.deleteBlog(record.uuid)\n              }}\n            />\n          </span>\n        ),\n      },\n    ]\n\n    const paginationConfig = {\n      current: currentPage,\n      pageSize: perPage,\n      total: totalBlogs,\n      onChange: this.handlePageChnage,\n    }\n\n    return (\n      <div>\n        <Helmet title=\"Products List\" />\n        <div className=\"card\">\n          <div className=\"card-header mb-3\">\n            <div className=\"utils__title\">\n              <strong>Blog List</strong>\n              <Switch\n                defaultChecked\n                checkedChildren={language ? 'en' : 'ru'}\n                unCheckedChildren={language ? 'en' : 'ru'}\n                onChange={this.handleLanguage}\n                className=\"toggle\"\n                style={{ width: '100px', marginLeft: '10px' }}\n              />\n            </div>\n          </div>\n          <div className=\"card-body\">\n            <Table\n              // eslint-disable-next-line no-underscore-dangle\n              rowKey={record => record._id}\n              rowClassName={record =>\n                record.needs_translation === true ? 'NotTranslated' : 'translated'\n              }\n              onRow={record => {\n                return {\n                  onDoubleClick: () => {\n                    this.hanldeRedirect(record)\n                  },\n                }\n              }}\n              className=\"utils__scrollTable customTable\"\n              scroll={{ x: '100%' }}\n              columns={columns}\n              dataSource={data}\n              pagination={paginationConfig}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default BlogList\n"],"sourceRoot":""}