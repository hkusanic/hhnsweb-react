{"version":3,"sources":["pages/Kirtan/list/index.js"],"names":["KirtanList","connect","_ref","kirtan","state","language","window","localStorage","handlePageChnage","page","dispatch","_this","props","type","deleteKirtan","uuid","console","log","handleLanguage","setState","hanldeRedirect","record","history","push","pathname","this","nextProps","isDeleted","_this2","kirtans","totalKirtans","data","columns","title","dataIndex","key","render","react__WEBPACK_IMPORTED_MODULE_9___default","a","createElement","date","concat","Date","toDateString","react_router_dom__WEBPACK_IMPORTED_MODULE_12__","to","id","className","onClick","react_helmet__WEBPACK_IMPORTED_MODULE_10__","antd_es_switch__WEBPACK_IMPORTED_MODULE_3__","defaultChecked","checkedChildren","unCheckedChildren","onChange","style","width","marginLeft","antd_es_table__WEBPACK_IMPORTED_MODULE_1__","rowClassName","translation_required","onRow","onDoubleClick","scroll","x","dataSource","pagination","pageSize","total","React","Component"],"mappings":"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","file":"static/js/31.f7273d0a.chunk.js","sourcesContent":["/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React from 'react'\nimport { Table, Switch } from 'antd'\nimport { Helmet } from 'react-helmet'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\n@connect(({ kirtan }) => ({ kirtan }))\nclass KirtanList extends React.Component {\n  state = {\n    language: window.localStorage['app.settings.locale'] === '\"en-US\"',\n  }\n\n  componentDidMount() {\n    const { dispatch } = this.props\n    dispatch({\n      type: 'kirtan/GET_KIRTAN',\n      page: 1,\n    })\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.kirtan.isDeleted) {\n      const { dispatch } = this.props\n      dispatch({\n        type: 'kirtan/GET_KIRTAN',\n        page: 1,\n      })\n    }\n    this.setState({\n      language: window.localStorage['app.settings.locale'] === '\"en-US\"',\n    })\n  }\n\n  handlePageChnage = page => {\n    const { dispatch } = this.props\n\n    dispatch({\n      type: 'kirtan/GET_KIRTAN',\n      page,\n    })\n  }\n\n  deleteKirtan = uuid => {\n    const { dispatch } = this.props\n    console.log('uuid====????', uuid)\n    dispatch({\n      type: 'kirtan/DELETE_KIRTAN_BY_ID',\n      uuid,\n    })\n  }\n\n  handleLanguage = () => {\n    const { language } = this.state\n    this.setState({\n      language: !language,\n    })\n  }\n\n  hanldeRedirect = record => {\n    const { history } = this.props\n    history.push({\n      pathname: '/kirtan/create',\n      state: record.uuid,\n    })\n  }\n\n  render() {\n    const { kirtan } = this.props\n    const { language } = this.state\n    const { kirtans, totalKirtans } = kirtan\n    const data = kirtans\n\n    const columns = [\n      {\n        title: 'Title',\n        dataIndex: language ? 'en.title' : 'ru.title',\n        key: 'en.title',\n        render: title => <span>{title}</span>,\n      },\n      {\n        title: 'Event',\n        dataIndex: language ? 'en.event' : 'ru.event',\n        key: 'en.event',\n      },\n      {\n        title: 'Type',\n        dataIndex: 'type',\n        key: 'type',\n      },\n      {\n        title: 'Date',\n        dataIndex: 'created_date',\n        key: 'created_date',\n        render: date => <span>{`${new Date(date).toDateString()}`}</span>,\n      },\n      {\n        title: 'Action',\n        key: 'action',\n        render: record => (\n          <span>\n            <Link to={{ pathname: '/kirtan/create', state: { id: record.uuid, language } }}>\n              <i className=\"fa fa-edit mr-2 editIcon\" />\n            </Link>\n            <i\n              className=\"fa fa-trash mr-2 closeIcon\"\n              onClick={() => {\n                this.deleteKirtan(record.uuid)\n              }}\n            />\n          </span>\n        ),\n      },\n    ]\n\n    return (\n      <div>\n        <Helmet title=\"Kirtan List\" />\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <div className=\"utils__title\">\n              <strong>Kirtan List</strong>\n              <Switch\n                defaultChecked\n                checkedChildren={language ? 'en' : 'ru'}\n                unCheckedChildren={language ? 'en' : 'ru'}\n                onChange={this.handleLanguage}\n                className=\"toggle\"\n                style={{ width: '100px', marginLeft: '10px' }}\n              />\n            </div>\n            <div className=\"card-body\">\n              <Table\n                // eslint-disable-next-line no-unused-expressions\n                rowClassName={record =>\n                  record.translation_required === true ? 'NotTranslated' : 'translated'\n                }\n                onRow={record => {\n                  return {\n                    onDoubleClick: () => {\n                      this.hanldeRedirect(record)\n                    },\n                  }\n                }}\n                className=\"utils__scrollTable\"\n                scroll={{ x: '100%' }}\n                columns={columns}\n                dataSource={data}\n                pagination={{\n                  pageSize: 20,\n                  onChange: this.handlePageChnage,\n                  total: totalKirtans,\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default KirtanList\n"],"sourceRoot":""}