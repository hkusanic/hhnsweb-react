{"version":3,"sources":["pages/Kirtan/list/index.js"],"names":["KirtanList","connect","_ref","kirtan","state","language","handlePageChnage","page","dispatch","_this","props","type","deleteKirtan","uuid","console","log","handleLanguage","setState","this","nextProps","isDeleted","_this2","kirtans","totalKirtans","data","columns","title","dataIndex","key","render","react__WEBPACK_IMPORTED_MODULE_9___default","a","createElement","date","concat","Date","toDateString","record","react_router_dom__WEBPACK_IMPORTED_MODULE_12__","to","pathname","className","onClick","react_helmet__WEBPACK_IMPORTED_MODULE_10__","antd_es_switch__WEBPACK_IMPORTED_MODULE_3__","defaultChecked","checkedChildren","unCheckedChildren","onChange","style","width","marginLeft","antd_es_table__WEBPACK_IMPORTED_MODULE_1__","rowClassName","translation_required","scroll","x","dataSource","pagination","pageSize","total","React","Component"],"mappings":"0NASMA,EADLC,YAAQ,SAAAC,GAAA,MAAiB,CAAEC,OAAnBD,EAAGC,uNAEVC,MAAQ,CACNC,UAAU,KAqBZC,iBAAmB,SAAAC,IAGjBC,EAFqBC,EAAKC,MAAlBF,UAEC,CACPG,KAAM,oBACNJ,YAIJK,aAAe,SAAAC,GAAQ,IACbL,EAAaC,EAAKC,MAAlBF,SACRM,QAAQC,IAAI,eAAgBF,GAC5BL,EAAS,CACPG,KAAM,6BACNE,YAIJG,eAAiB,WAAM,IACbX,EAAaI,EAAKL,MAAlBC,SACRI,EAAKQ,SAAS,CACZZ,UAAWA,yFArCbG,EADqBU,KAAKR,MAAlBF,UACC,CACPG,KAAM,oBACNJ,KAAM,sDAIgBY,GACpBA,EAAUhB,OAAOiB,YAEnBZ,EADqBU,KAAKR,MAAlBF,UACC,CACPG,KAAM,oBACNJ,KAAM,qCA8BH,IAAAc,EAAAH,KACCf,EAAWe,KAAKR,MAAhBP,OACAE,EAAaa,KAAKd,MAAlBC,SACAiB,EAA0BnB,EAA1BmB,QAASC,EAAiBpB,EAAjBoB,aACXC,EAAOF,EAEPG,EAAU,CACd,CACEC,MAAO,QACPC,UAAWtB,EAAW,WAAa,WACnCuB,IAAK,WACLC,OAAQ,SAAAH,GAAK,OAAII,EAAAC,EAAAC,cAAA,YAAON,KAE1B,CACEA,MAAO,QACPC,UAAWtB,EAAW,WAAa,WACnCuB,IAAK,YAEP,CACEF,MAAO,OACPC,UAAW,OACXC,IAAK,QAEP,CACEF,MAAO,OACPC,UAAW,eACXC,IAAK,eACLC,OAAQ,SAAAI,GAAI,OAAIH,EAAAC,EAAAC,cAAA,eAAAE,OAAU,IAAIC,KAAKF,GAAMG,mBAE3C,CACEV,MAAO,SACPE,IAAK,SACLC,OAAQ,SAAAQ,GAAM,OACZP,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAMC,GAAI,CAAEC,SAAU,iBAAkBpC,MAAOiC,EAAOxB,OACpDiB,EAAAC,EAAAC,cAAA,KAAGS,UAAU,8BAEfX,EAAAC,EAAAC,cAAA,KACES,UAAU,6BACVC,QAAS,WACPrB,EAAKT,aAAayB,EAAOxB,aAQrC,OACEiB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACW,EAAA,OAAD,CAAQjB,MAAM,gBACdI,EAAAC,EAAAC,cAAA,OAAKS,UAAU,QACbX,EAAAC,EAAAC,cAAA,OAAKS,UAAU,eACbX,EAAAC,EAAAC,cAAA,OAAKS,UAAU,gBACbX,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAAY,EAAA,GACEC,gBAAc,EACdC,gBAAiBzC,EAAW,KAAO,KACnC0C,kBAAmB1C,EAAW,KAAO,KACrC2C,SAAU9B,KAAKF,eACfyB,UAAU,SACVQ,MAAO,CAAEC,MAAO,QAASC,WAAY,WAGzCrB,EAAAC,EAAAC,cAAA,OAAKS,UAAU,aACbX,EAAAC,EAAAC,cAAAoB,EAAA,GAEEC,aAAc,SAAAhB,GAAM,OACc,IAAhCA,EAAOiB,qBAAgC,gBAAkB,cAE3Db,UAAU,qBACVc,OAAQ,CAAEC,EAAG,QACb/B,QAASA,EACTgC,WAAYjC,EACZkC,WAAY,CACVC,SAAU,GACVX,SAAU9B,KAAKZ,iBACfsD,MAAOrC,gBA7HAsC,IAAMC,eAwIhB9D","file":"static/js/23.c57513d5.chunk.js","sourcesContent":["/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React from 'react'\nimport { Table, Switch } from 'antd'\nimport { Helmet } from 'react-helmet'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\n@connect(({ kirtan }) => ({ kirtan }))\nclass KirtanList extends React.Component {\n  state = {\n    language: true,\n  }\n\n  componentDidMount() {\n    const { dispatch } = this.props\n    dispatch({\n      type: 'kirtan/GET_KIRTAN',\n      page: 1,\n    })\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.kirtan.isDeleted) {\n      const { dispatch } = this.props\n      dispatch({\n        type: 'kirtan/GET_KIRTAN',\n        page: 1,\n      })\n    }\n  }\n\n  handlePageChnage = page => {\n    const { dispatch } = this.props\n\n    dispatch({\n      type: 'kirtan/GET_KIRTAN',\n      page,\n    })\n  }\n\n  deleteKirtan = uuid => {\n    const { dispatch } = this.props\n    console.log('uuid====????', uuid)\n    dispatch({\n      type: 'kirtan/DELETE_KIRTAN_BY_ID',\n      uuid,\n    })\n  }\n\n  handleLanguage = () => {\n    const { language } = this.state\n    this.setState({\n      language: !language,\n    })\n  }\n\n  render() {\n    const { kirtan } = this.props\n    const { language } = this.state\n    const { kirtans, totalKirtans } = kirtan\n    const data = kirtans\n\n    const columns = [\n      {\n        title: 'Title',\n        dataIndex: language ? 'en.title' : 'ru.title',\n        key: 'en.title',\n        render: title => <span>{title}</span>,\n      },\n      {\n        title: 'Event',\n        dataIndex: language ? 'en.event' : 'ru.event',\n        key: 'en.event',\n      },\n      {\n        title: 'Type',\n        dataIndex: 'type',\n        key: 'type',\n      },\n      {\n        title: 'Date',\n        dataIndex: 'created_date',\n        key: 'created_date',\n        render: date => <span>{`${new Date(date).toDateString()}`}</span>,\n      },\n      {\n        title: 'Action',\n        key: 'action',\n        render: record => (\n          <span>\n            <Link to={{ pathname: '/kirtan/create', state: record.uuid }}>\n              <i className=\"fa fa-edit mr-2 editIcon\" />\n            </Link>\n            <i\n              className=\"fa fa-trash mr-2 closeIcon\"\n              onClick={() => {\n                this.deleteKirtan(record.uuid)\n              }}\n            />\n          </span>\n        ),\n      },\n    ]\n\n    return (\n      <div>\n        <Helmet title=\"Kirtan List\" />\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <div className=\"utils__title\">\n              <strong>Kirtan List</strong>\n              <Switch\n                defaultChecked\n                checkedChildren={language ? 'en' : 'ru'}\n                unCheckedChildren={language ? 'en' : 'ru'}\n                onChange={this.handleLanguage}\n                className=\"toggle\"\n                style={{ width: '100px', marginLeft: '10px' }}\n              />\n            </div>\n            <div className=\"card-body\">\n              <Table\n                // eslint-disable-next-line no-unused-expressions\n                rowClassName={record =>\n                  record.translation_required === true ? 'NotTranslated' : 'translated'\n                }\n                className=\"utils__scrollTable\"\n                scroll={{ x: '100%' }}\n                columns={columns}\n                dataSource={data}\n                pagination={{\n                  pageSize: 20,\n                  onChange: this.handlePageChnage,\n                  total: totalKirtans,\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default KirtanList\n"],"sourceRoot":""}