(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{496:function(e,t){},497:function(e,t){},847:function(e,t,a){},871:function(e,t,a){"use strict";a.r(t);a(500);var n,r=a(498),i=(a(201),a(56)),o=a(19),c=a(20),u=a(22),l=a(21),s=a(23),d=a(0),p=a.n(d),g=a(92),h=a(24),v=a(495),f=a.n(v),m=a(359),E=(a(847),Object(h.c)(function(e){return{video:e.video}})(n=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={language:!0,currentPage:1,perPage:20},a.showing100Characters=function(e){var t=e,a=t.split(" ");return a.length>10&&(a=a.slice(0,10),t="".concat(a.join(" "),"...")),t},a.handleLanguage=function(){var e=a.state.language;a.setState({language:!e})},a.handlePageChnage=function(e){var t=a.props.dispatch;a.setState({currentPage:e},function(){t({type:"video/GET_VIDEOS",page:a.state.currentPage})})},a.deleteVideo=function(e){(0,a.props.dispatch)({type:"video/DELETE_VIDEOS",uuid:e})},a.onChangeDate=function(e){(0,a.props.dispatch)({type:"video/GET_VIDEOS",page:1,date:e?e.format("YYYY-MM-DD"):null})},a.onChangeDateSort=function(e){(0,a.props.dispatch)({type:"video/GET_VIDEOS",page:1,createdDateSort:e})},a.hanldeRedirect=function(e){var t=a.props.history,n=a.state,r=n.language,i=n.currentPage;t.push({pathname:"/video/create",state:{uuid:e.uuid,language:r,currentPage:i}})},a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.location.state;void 0!==n&&n.paginationCurrentPage?this.setState({currentPage:n.paginationCurrentPage},function(){a({type:"video/GET_VIDEOS",page:e.state.currentPage})}):a({type:"video/GET_VIDEOS",page:this.state.currentPage}),a({type:"kirtan/RESET_STORE"})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.dispatch;e.video.isDeleted&&t({type:"video/GET_VIDEOS",page:1})}},{key:"render",value:function(){var e=this,t=this.props.video,a=t.videos,n=t.totalVideos,o=this.state,c=o.language,u=o.currentPage,l=o.perPage,s=a,d=[{title:"Title",dataIndex:c?"en.title":"ru.title",key:c?"en.title":"ru.title",render:function(e){return e?f()(e.substring(0,30)):""}},{title:"Event",dataIndex:c?"en.event":"ru.event",key:c?"en.event":"ru.event"},{title:"Type",dataIndex:"type",key:"type"},{title:"Date",dataIndex:"video_date",key:"video_date",render:function(e){return p.a.createElement("span",null,"".concat(new Date(e).toDateString()))}},{title:"Action",key:"action",render:function(t){return p.a.createElement("span",null,p.a.createElement(m.a,{to:{pathname:"/video/create",state:{uuid:t.uuid,language:c,currentPage:u}}},p.a.createElement("i",{className:"fa fa-edit mr-2 editIcon"})),p.a.createElement("i",{className:"fa fa-trash mr-2 closeIcon",onClick:function(){e.deleteVideo(t.uuid)}}))}}],h={current:u,pageSize:l,total:n,onChange:this.handlePageChnage};return p.a.createElement("div",null,p.a.createElement(g.Helmet,{title:"Video List"}),p.a.createElement("div",{className:"card"},p.a.createElement("div",{className:"card-header"},p.a.createElement("div",{className:"utils__title",style:{paddingBottom:"10px"}},p.a.createElement("strong",null,"Video List"),p.a.createElement(i.a,{defaultChecked:!0,checkedChildren:c?"en":"ru",unCheckedChildren:c?"en":"ru",onChange:this.handleLanguage,className:"toggle",style:{width:"100px",marginLeft:"10px"}}))),p.a.createElement("div",{className:"card-body"},p.a.createElement(r.a,{rowKey:function(e){return e._id},rowClassName:function(e){return!0===e.translation_required?"NotTranslated":"translated"},onRow:function(t){return{onDoubleClick:function(){e.hanldeRedirect(t)}}},className:"utils__scrollTable customTable",scroll:{x:"100%"},columns:d,dataSource:s,pagination:h}))))}}]),t}(p.a.Component))||n);t.default=E}}]);
//# sourceMappingURL=26.ba5046a6.chunk.js.map